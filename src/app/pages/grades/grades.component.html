<div class="sidebar">
    <app-instructornavbar [instructorName]="instructorName"></app-instructornavbar>
</div>

<div class="main-content">
    <div class="custom-box">
        <img src="Icons\profile-add.png" alt="Icon" class="icon-img"> <!-- Icon as an image -->
        <span class="course-text">Grades List</span> <!-- Text with custom class -->

        <!-- Accordion Section -->
        <div class="accordion" id="accordionExample">
            <div 
                class="accordion-item shadow-sm overflow-hidden custom-accordion-item"
                *ngFor="let course of courses; let i = index"
            >
                <h2 class="accordion-header" id="heading{{i}}">
                    <button 
                        class="accordion-button collapsed" 
                        type="button" 
                        data-bs-toggle="collapse" 
                        [attr.data-bs-target]="'#collapse' + i" 
                        aria-expanded="false" 
                        [attr.aria-controls]="'collapse' + i"
                    >
                        {{ course.course_name }}
                    </button>
                </h2>
                <div 
                    [id]="'collapse' + i" 
                    class="accordion-collapse collapse" 
                    [attr.aria-labelledby]="'heading' + i" 
                    data-bs-parent="#accordionExample"
                >
                    <div class="accordion-body">
                        <!-- Put your student grades table here -->
                        <table class="table table-borderless align-middle">
                            <thead class="bg-light">
                                <tr>
                                    <th>#</th>
                                    <th>Course Code</th>
                                    <th>Name</th>
                                    <th>Grade</th>
                                    <th>Grade Letter</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let student of course.students">
                                    <td>{{ student.id }}</td>
                                    <td>{{ course.course_code }}</td>
                                    <td>{{ student.name }}</td>
                                    <td>{{ student.grade }}</td>
                                    <td>{{ student.gradeLetter }}</td>
                                    <td>
                                        <span class="badge" [ngClass]="{
                                            'badge-passed': student.status === 'Passed',
                                            'badge-failed': student.status === 'Failed'
                                        }">{{ student.status }}</span>
                                    </td>
                                    <td><!-- actions here --></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pagination Footer -->
        <div class="card-footer bg-white border-top-0 d-flex justify-content-between align-items-center py-3 px-4">
            <button class="btn btn-outline-secondary btn-sm" (click)="changePage('prev')" [disabled]="currentPage === 1">
                Previous
            </button>
            <nav>
                <ul class="pagination pagination-sm mb-0">
                    <li class="page-item" *ngFor="let page of totalPagesArray">
                        <a class="page-link" href="#" (click)="goToPage(page)" [ngClass]="{'active': currentPage === page}">
                            {{ page }}
                        </a>
                    </li>
                </ul>
            </nav>
            <button class="btn btn-outline-secondary btn-sm" (click)="changePage('next')" [disabled]="currentPage === totalPages">
                Next
            </button>
        </div>
    </div>
    
    <!-- Action Buttons -->
    <div class="d-flex justify-content-end mt-5 mb-3">
        <button 
          class="btn btn-outline-secondary me-2 rounded-3"
          style="width: 100px; height: 40px; border-color: #243c63; color: #243c63; background-color: transparent; transition: background-color 0.3s ease;"
          onmouseover="this.style.backgroundColor='#ececec'"
          onmouseout="this.style.backgroundColor='transparent'">
          Cancel
        </button>

        <!-- Save Changes -->
        <button 
          class="btn text-white rounded-3 border-0"
          style="width: 170px; height: 40px; background-color: #243c63; transition: all 0.3s ease;"
          onmouseover="this.style.backgroundImage='linear-gradient(53deg, #243c63 0%, #4b72b0 100%)'"
          onmouseout="this.style.backgroundImage='none'">
          Save Changes
        </button>
    </div>
</div>
